<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Hello OpenCV.js</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <h1 id="status">OpenCV.js is loading...</h1>
    <h2>Procesare Video</h2>
    <div class="videoCanvas">
      <div class="videoAndBtn">
        <video id="videoInput" width="320" height="240" controls></video>
        <button id="video">Video</button>
        <button id="videoFace">Video for Face detection</button>
      </div>
      <div class="videoAndBtn">
        <canvas width="320" height="240" id="canvasOutput2"></canvas>
        <p>Video Black and White</p>
      </div>
      <div class="videoAndBtn">
        <canvas width="320" height="240" id="canvasOutput3"></canvas>
        <p>Video for face detection</p>
      </div>
      <div class="videoAndBtn">
        <canvas width="320" height="240" id="canvasOutput4"></canvas>
        <p>Image from the video</p>
      </div>
    </div>

    <h2>Procesare Imagini</h2>
    <div class="generalContainer">
      <div class="inputoutput">
        <img id="imageSrc" />
        <div class="caption">
          <input type="file" id="fileInput" name="file" />
        </div>
      </div>
      <div class="inputoutput">
        <canvas id="canvasOutput"></canvas>
        <div class="caption">Output</div>
      </div>
    </div>

    <div>
      <a id="reset">Reset</a>
      <a id="convolution">Convolution</a>
      <a id="blurringGaussian">Gaussian Blur</a>
      <a id="blurringMedian">Median Blur</a>
      <a id="bilateralFilter">Bilateral Filter</a>
      <a href="#" id="downloadButton">Download Image</a>
    </div>
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <script type="text/javascript">
      let imgElement = document.getElementById("imageSrc");
      let inputElement = document.getElementById("fileInput");
      inputElement.addEventListener(
        "change",
        (e) => {
          imgElement.src = URL.createObjectURL(e.target.files[0]);
        },
        false
      );
      imgElement.onload = function () {
        let mat = cv.imread(imgElement);
        cv.imshow("canvasOutput", mat);
        mat.delete();
      };
      function onOpenCvReady() {
        document.getElementById("status").innerHTML = "OpenCV.js is ready.";
      }
    </script>
    <script
      async
      src="opencv.js"
      onload="onOpenCvReady();"
      type="text/javascript"
    ></script>
    <script src="script.js"></script>
    <script src="utils.js"></script>
  </body>
</html>
